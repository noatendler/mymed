<!DOCTYPE html>
<html ng-app="mymed">
    <head>
        <title>tags manager</title>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <link rel="stylesheet" href="css/ng-tags-input.min.css">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/ng-tags-input.bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    </head>
    <header class="deskHeader">
        <a href="index.html" id="logo" data-toggle="tooltip" title="MyMedical" alt="MyMedical"> </a>
         <nav class="navBarPrivate">
            <a href="index.html">
                <h3 class="homeNav">Home</h3>
            </a>
            <a href="getPrivateData.html">
                <h3 class="PersonalNav">Personal medical infomation</h3>
            </a>
            <a href="generalRanking.html">
                <h3 class="GeneralNav">General medical information</h3>
            </a>
            <a href="searchDoc.html">
                <h3 class="SearchNav">Search doctor nearby</h3>
            </a>
            <a href="tagsManager.html">
                <h3 class="SearchNav">Tags manager</h3>
            </a>
            <a href="profile.html" id="profile">
                <span data-toggle="tooltip" title="Click to see your profile">Profile</span>
            </a>
            <a href="login.html" id="loginLink">
                <span data-toggle="tooltip" title="Click to login">Login</span>
            </a>
         </nav>
    </header> 
<body ng-init="allTags=true">
    <main>
        <section ng-controller="tagsCtrl">
            <div class="collapse navbar-collapse" id="navBarSub">
                <ul class="nav navbar-nav" id="navBar">
                    <li ng-class="{ active: isActive('/')}"><a href="#" ng-click="hideme(); createCategory=true; allTags=false;  addNewTag=false; ">Create new category</a></li>
                    <li ng-class="{ active: isActive('/')}"><a ng-href="#" ng-click="hideme(); allTags=true; addNewTag=false;  createCategory=false; ">All tags</a></li>
                    <li ng-class="{ active: isActive('/')}"><a ng-href="#" ng-click="hideme(); addNewTag=true; allTags=false; createCategory=false; ">Create new tag</a></li>
                </ul>
                <ul ng-repeat="i in nav" class="nav navbar-nav">
                    <li ng-class="{ active: isActive('/')}"><a href="#" ng-click="getSubCat(i)">{{i}}</a></li>
              </ul>
            </div>
            <section id="categorySub" style="display:block;">
            <div ng-repeat="j in sub" class="subCategoryA">
                <i class="tag label label-info ng-binding ng-scope">{{j}}</i>
            </div>
            </section>
            <section ng-show="addNewTag" id="addNewTagId">
            <label for="pwd" id="titleTagM" class="editTitle" data-toggle="tooltip" title="add new tag to tags manager">Add new tag</label>
            <tags-input ng-model="Tags" class="inputTagM" name="Tags" id="Tags"  display-property="name" placeholder="Add new a tag" replace-spaces-with-dashes="false">
            </tags-input>
            <button class="btn btn-default" id="saveTag">Save tag</button>
            </section>
            <section ng-show="allTags" id="allTagsId">
            <h2 id="seeTag">click on tag label to see all document that belong to this tag</h2>
            <section ng-repeat="i in personalTag" class="tagM tag label label-info ng-binding ng-scope" id="tagContiner">
                <i ng-click="getDocument(i.name)" class="getDoc" data-toggle="tooltip" title="click to see all document that belong to this tag">{{i.name}}</i>
                {{i.number}}
                <a>
                  <i class="remove glyphicon glyphicon-remove-sign glyphicon-white" ng-click="removeTag(i.name,i.number)"></i>
                </a>
            </section>
            <div id="linkDocs" ng-repeat="j in linkDataName">
                <a href="#" ng-click="createPopUp(j.Title,j.Info,j.myDate,j.file)">{{j.Title}}</a>
            </div>
<!--             <label id="linkTitle">choose file from list and click on the link</label>
 -->            <!-- The Modal -->
            <div id="myModal" class="modal">
              <!-- Modal content -->
                <section class="modal-content">
                    <span class="close">&times;</span>
                        <p id="errorLog"></p>
                        <label>Document title</label>
                        <h1 class="holdPopUp">{{title}}</h1>
                        <br>
                        <label>Date of creation</label>
                        <h3 class="holdPopUp">{{date}}</h3>
                        <br>
                        <label>Document information</label>
                        <p class="holdPopUp">{{info}}</p>
                        <br>
                        <label>Document</label>
                        <img ng-src="{{file}}">
                </section>
             </div>
             </section>
             <section ng-show="createCategory" id="createCategoryId">
             <label id="categoryTitle" data-toggle="tooltip" title="add new category to tags manager">Please create new category / update exsiting one</label>
             <tags-input ng-model="category" class="inputTagM" name="category" id="category"  display-property="name" placeholder="Add new a category" replace-spaces-with-dashes="false">
             </tags-input>
             <label id="subCategory">Choose from the list tags to this category</label>
             <tags-input ng-model="TagsCat"
                  class="editPersonal" name="TagsCat" id="TagsCat" 
                placeholder="Add a tag for your item" 
                replace-spaces-with-dashes="false"
                add-from-autocomplete-only="true">
             <auto-complete source="loadTags($query)" 
                     min-length="0" 
                     debounce-delay="0"
                     max-results-to-show="10"></auto-complete>
            </tags-input>
             <button class="btn btn-default" id="buttonCategory">Add</button>
            </section>
        </section>
    </main>
    <script type="text/ng-template" id="my-custom-template">
        <div class="right-panel">
          <span ng-bind-html="$highlight($getDisplayText())"></span>
        </div> 
    </script>
    <script src="js/lib/angular/angular.min.js"></script>
    <script src="js/lib/angular/angular-resource.min.js"></script>
    <script src="js/lib/angular/angular-route.min.js"></script>
    <script src="js/lib/angular/angular-cookies.min.js"></script>
    <script type="text/javascript" src="js/lib/angular/ng-tags-input.min.js"></script>
    <script src="js/tagController.js"></script>
</body>